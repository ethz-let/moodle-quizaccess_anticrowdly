{"version":3,"file":"antiai.min.js","sources":["../src/antiai.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/* eslint-disable no-console */\n/* eslint-disable @babel/no-unused-expressions */\n\ndefine(['jquery', 'core/ajax'], function($, ajax) {\n\n      /**\n       * Checks for the presence of the AI extension in the user's browser\n       */\n      function checkaiextension() {\n      var extensionId = \"idipjdgkafkkbklacjonnhkammdpigol\";\n\n      detect(\n        extensionId,\n          function() {\n            checkcall(0);\n            },\n          function() {\n            checkcall(1);\n            },\n      );\n\n      /**\n       * Sends the result of the extension check to the server\n       *\n       * @param {number} val - Status: 0 = extension found, 1 = extension not found\n       */\n      function checkcall(val) {\n          if (val === 0) {\n            console.error('Found AI Extention');\n          } else {\n            console.error('AI Extention Not Found');\n          }\n\n          const request = {\n            methodname: 'quizaccess_antiai_manageaccess',\n            args: {\n                status: val\n            },\n          };\n         ajax.call([request])[0];\n      }\n\n       /**\n        * Checks if the specified Chrome extension is installed by attempting to\n        * load a resource from the extension. Depending on the result, calls the\n        * appropriate callback.\n        *\n        * @param {string} extensionId - The extension ID.\n        * @param {Function} ifInstalled - Called if the extension loads successfully.\n        * @param {Function} ifNotInstalled - Called if loading fails.\n        */\n        function detect(extensionId, ifInstalled, ifNotInstalled) {\n        var s = document.createElement('script');\n        s.onerror = ifNotInstalled;\n        s.onload = ifInstalled;\n        document.body.appendChild(s);\n        s.src = \"chrome-extension://\" + extensionId + '/src/styles.css';\n      }\n    }\n    return {\n        init: function() {\n           checkaiextension();\n        }\n    };\n});"],"names":["define","$","ajax","init","checkcall","val","console","error","request","methodname","args","status","call","extensionId","ifInstalled","ifNotInstalled","s","document","createElement","onerror","onload","body","appendChild","src","checkaiextension"],"mappings":"AAkBAA,kCAAO,CAAC,SAAU,cAAc,SAASC,EAAGC,YAwDjC,CACHC,KAAM,gCAlCCC,UAAUC,KACH,IAARA,IACFC,QAAQC,MAAM,sBAEdD,QAAQC,MAAM,gCAGVC,QAAU,CACdC,WAAY,iCACZC,KAAM,CACFC,OAAQN,MAGfH,KAAKU,KAAK,CAACJ,UAAU,GAYNK,YA1CA,mCA0CaC,YAtC3B,WACEV,UAAU,IAqC4BW,eAnCxC,WACEX,UAAU,IAmCVY,EAAIC,SAASC,cAAc,UAC/BF,EAAEG,QAAUJ,eACZC,EAAEI,OAASN,YACXG,SAASI,KAAKC,YAAYN,GAC1BA,EAAEO,IAAM,sBAAwBV,YAAc,sBAL9BA,YAAaC,YAAaC,eACtCC,EASDQ"}